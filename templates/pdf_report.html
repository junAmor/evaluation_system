
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Arduino Innovator Challenge Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #01726F;
            margin-bottom: 5px;
        }
        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }
        .date-time {
            font-size: 14px;
            color: #888;
        }
        .status {
            margin: 20px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            text-align: center;
        }
        .complete {
            color: #2ecc71;
        }
        .incomplete {
            color: #f39c12;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #01726F;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .top-1 {
            background-color: rgba(255, 215, 0, 0.1);
        }
        .top-2 {
            background-color: rgba(192, 192, 192, 0.1);
        }
        .top-3 {
            background-color: rgba(205, 127, 50, 0.1);
        }
        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 12px;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Arduino Innovator Challenge</h1>
        <div class="subtitle">Official Competition Results Report</div>
        <div class="date-time">Generated on: {{ date }} at {{ time }}</div>
    </div>
    
    <div class="status {% if all_evaluations_complete %}complete{% else %}incomplete{% endif %}">
        <h3>Evaluation Status</h3>
        <p>{{ completed_evaluations }} of {{ total_evaluations }} evaluations completed 
        ({% if all_evaluations_complete %}Complete{% else %}Incomplete{% endif %})</p>
    </div>
    
    <h2>Leaderboard Results</h2>
    <table>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Group</th>
                <th>Project</th>
                <th>Design (25%)</th>
                <th>Function (30%)</th>
                <th>Present (15%)</th>
                <th>Web (10%)</th>
                <th>Impact (20%)</th>
                <th>Final Score</th>
            </tr>
        </thead>
        <tbody>
            {% for participant in participants %}
            <tr class="{% if loop.index == 1 %}top-1{% elif loop.index == 2 %}top-2{% elif loop.index == 3 %}top-3{% endif %}">
                <td>{{ loop.index }}</td>
                <td>Group {{ participant.group_number }}: {{ participant.name }}</td>
                <td>{{ participant.project_title }}</td>
                <td>{{ "%.2f"|format(participant.avg_weighted_project_design|default(0)) }}</td>
                <td>{{ "%.2f"|format(participant.avg_weighted_functionality|default(0)) }}</td>
                <td>{{ "%.2f"|format(participant.avg_weighted_presentation|default(0)) }}</td>
                <td>{{ "%.2f"|format(participant.avg_weighted_web_design|default(0)) }}</td>
                <td>{{ "%.2f"|format(participant.avg_weighted_impact|default(0)) }}</td>
                <td>{{ "%.2f"|format(participant.score|default(0)) }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    {% if participants and participants[0].score > 0 %}
    <div class="winner-section">
        <h2>üèÜ Champion üèÜ</h2>
        <p>Congratulations to <strong>Group {{ participants[0].group_number }}: {{ participants[0].name }}</strong> 
           for winning the 2nd Arduino Innovator Challenge with a final score of 
           <strong>{{ "%.2f"|format(participants[0].score) }}</strong>.</p>
        <p>Project: <em>{{ participants[0].project_title }}</em></p>
    </div>
    {% endif %}
    
    <div class="footer">
        <p>2nd Arduino Innovator Challenge ¬© 2025</p>
        <p>This is an official report generated by the Arduino Evaluation System</p>
    </div>
</body>
</html>
